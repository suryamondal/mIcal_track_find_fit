# Collated File
The file `testMacro_2Deffi_approx.cc` should have the procedure to the latest collated file.
**Note:** This code was used long ago. I did not test it again before pushing to the GitHub.

There are two functions in the file. Both should be used in progression.
```
main		: supposed to be compiled
copyHisto	: copy histograms to a usable file for GEANT4
```
The same details are provided in the code.

## Short description
The multiplicity of strips on both sides should be correlated. It means that the strength of
the signal/avalanche should be dictate the multiplicity. Multiplicities on both side thus should not
be generated by **three** different `random-numbers` (i.e., if x-side has 3 strips hit, y-side should
have 3(or 2) strips hit. Generating using three different random-numbers can cause 3 strips hit
on x-side, and 0 strip hit in y-side.)

The idea is to generate only one random-number per layer when simulating both strip efficiency
and multiplicity.

For this inefficiency plots are generated for each strip.
- One inefficiency plot for each strip.
- In an event, if a strip has signal then the extrapolated position is filled
  in the respective histogram. **There is no need to check whether the signal is
  nearby the strip or not.**
  (This is implemented in `ino_digi_read1.C`. One should activate a flag (`isCorrection`?).)
- The plots are convoluted (or spread) by the resolution. The efficiency thus gets
  underestimated. I could not perform 2D convolution. So adopted a simple strategy.
  - I assumed that the RPCs are 100% efficient, when the avalanche is `within the reach`.
  - When the signal is far from the strip, then it is due to very large pulses.
  - So I make strip efficiency 1 if is more than 0.6 . (This number can be debated. But if
    the NDF for data and MC matches, then it is fine.)
- To find the button position, I used correlated inefficiency of more than 0.3 .
